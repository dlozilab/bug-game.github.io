<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bug Squish Icebreaker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* --- Font Definitions (Previously External) --- */
        /* latin-ext */
        @font-face {
          font-family: 'Inter';
          font-style: normal;
          font-weight: 400;
          font-display: swap;
          src: url(https://fonts.gstatic.com/s/inter/v13/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuOKfAZ9hiA.woff2) format('woff2');
          unicode-range: U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
        }
        /* latin */
        @font-face {
          font-family: 'Inter';
          font-style: normal;
          font-weight: 400;
          font-display: swap;
          src: url(https://fonts.gstatic.com/s/inter/v13/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuOKfAZ1hiA.woff2) format('woff2');
          unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
        }
        /* latin-ext */
        @font-face {
          font-family: 'Inter';
          font-style: normal;
          font-weight: 600;
          font-display: swap;
          src: url(https://fonts.gstatic.com/s/inter/v13/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuOKfAZ9hiA.woff2) format('woff2');
          unicode-range: U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
        }
        /* latin */
        @font-face {
          font-family: 'Inter';
          font-style: normal;
          font-weight: 600;
          font-display: swap;
          src: url(https://fonts.gstatic.com/s/inter/v13/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuOKfAZ1hiA.woff2) format('woff2');
          unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
        }
        /* latin-ext */
        @font-face {
          font-family: 'Inter';
          font-style: normal;
          font-weight: 700;
          font-display: swap;
          src: url(https://fonts.gstatic.com/s/inter/v13/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuOKfAZ9hiA.woff2) format('woff2');
          unicode-range: U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
        }
        /* latin */
        @font-face {
          font-family: 'Inter';
          font-style: normal;
          font-weight: 700;
          font-display: swap;
          src: url(https://fonts.gstatic.com/s/inter/v13/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuOKfAZ1hiA.woff2) format('woff2');
          unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
        }
        /* latin */
        @font-face {
          font-family: 'Press Start 2P';
          font-style: normal;
          font-weight: 400;
          font-display: swap;
          src: url(https://fonts.gstatic.com/s/pressstart2p/v15/e3t4euO8T-267oIAQAu6jDQyK3nVivM.woff2) format('woff2');
          unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
        }

        /* --- General Styles --- */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a202c; /* A dark, techy background */
        }
        .font-pixel {
            font-family: 'Press Start 2P', cursive;
        }
        /* Simple animation for the bug appearing */
        @keyframes pop-up {
            from { transform: scale(0.5); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        .bug {
            animation: pop-up 0.2s ease-out;
            cursor: pointer;
            user-select: none; /* Prevents text selection on rapid clicks */
        }
        /* A subtle glow for the game board */
        .game-board {
            box-shadow: 0 0 20px rgba(56, 189, 248, 0.3);
        }
        /* Modal transition */
        .modal-backdrop {
            transition: opacity 0.3s ease-in-out;
        }
        .modal-content {
            transition: transform 0.3s ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-900 text-white flex flex-col items-center justify-center min-h-screen p-4">

    <div id="game-container" class="w-full max-w-2xl text-center">
        <h1 class="font-pixel text-3xl md:text-5xl text-sky-400 mb-2">Bug Squish!</h1>
        <p class="text-gray-400 mb-6">Click the bugs to reveal an icebreaker question!</p>

        <!-- Game Info: Score and Timer -->
        <div class="flex justify-between items-center bg-gray-800 p-4 rounded-lg mb-4 max-w-md mx-auto">
            <div class="text-left">
                <span class="font-pixel text-lg text-green-400">SCORE</span>
                <p id="score" class="text-3xl font-bold">0</p>
            </div>
            <div class="text-right">
                <span class="font-pixel text-lg text-red-400">TIME</span>
                <p id="timer" class="text-3xl font-bold">60</p>
            </div>
        </div>

        <!-- The main game area -->
        <div id="game-board" class="game-board grid grid-cols-3 sm:grid-cols-4 gap-4 bg-gray-800/50 p-4 rounded-lg border-2 border-gray-700 aspect-square max-w-md mx-auto">
            <!-- Bug holes will be generated by JavaScript -->
        </div>

        <!-- Start Button -->
        <button id="start-button" class="font-pixel mt-8 bg-sky-500 hover:bg-sky-600 text-white py-3 px-8 rounded-lg text-xl transition-transform duration-200 hover:scale-105">
            Start Game
        </button>
    </div>

    <!-- Icebreaker Question Modal -->
    <div id="question-modal" class="modal-backdrop fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 opacity-0 pointer-events-none">
        <div id="modal-content" class="modal-content bg-gray-800 rounded-2xl p-8 w-full max-w-lg text-center border-2 border-sky-500 shadow-2xl transform scale-95">
            <h2 class="font-pixel text-2xl text-sky-400 mb-6">ICEBREAKER!</h2>
            <p id="question-text" class="text-xl md:text-2xl mb-8 leading-relaxed">This is where the question will appear.</p>
            <button id="close-modal-button" class="font-pixel bg-green-500 hover:bg-green-600 text-white py-2 px-6 rounded-lg transition-transform duration-200 hover:scale-105">
                Got It!
            </button>
        </div>
    </div>

    <script>
        // --- DOM Elements ---
        const gameBoard = document.getElementById('game-board');
        const scoreDisplay = document.getElementById('score');
        const timerDisplay = document.getElementById('timer');
        const startButton = document.getElementById('start-button');
        const questionModal = document.getElementById('question-modal');
        const modalContent = document.getElementById('modal-content');
        const questionText = document.getElementById('question-text');
        const closeModalButton = document.getElementById('close-modal-button');

        // --- Game Configuration ---
        const GAME_TIME = 60; // seconds
        const HOLE_COUNT = 12; // 3x4 grid
        const ICEBREAKER_QUESTIONS = [
            "Tabs or spaces?",
            "What's the first thing you ever coded?",
            "If you could have any superpower, what would it be?",
            "What's your favorite sci-fi movie or book?",
            "What's a 'bug' in your daily life you wish you could fix?",
            "If you were a programming language, which one would you be and why?",
            "What's your go-to snack while coding?",
            "Dark mode or light mode?",
            "What's one non-coding skill you'd love to learn?",
            "What's a tech gadget you can't live without?",
            "What's your favorite keyboard shortcut?",
            "If you could write a program to do anything, what would it do?",
            "What's the most helpful piece of advice you've ever received?",
            "PC or Mac for development?",
            "What's your favorite type of music to listen to while you work?"
        ];

        // --- Game State ---
        let score = 0;
        let timeLeft = GAME_TIME;
        let gameTimerId = null;
        let bugIntervalId = null;
        let isGameActive = false;
        let availableQuestions = [];

        // --- Functions ---

        /**
         * Initializes the game board with empty holes.
         */
        function createGameBoard() {
            // Clear previous holes if any, for restart functionality
            gameBoard.innerHTML = '';
            for (let i = 0; i < HOLE_COUNT; i++) {
                const hole = document.createElement('div');
                hole.classList.add('hole', 'bg-gray-900', 'rounded-lg', 'h-24', 'flex', 'items-center', 'justify-center', 'transition-all', 'duration-200');
                gameBoard.appendChild(hole);
            }
        }

        /**
         * Starts the game loop.
         */
        function startGame() {
            if (isGameActive) return;
            isGameActive = true;
            
            // Reset state
            createGameBoard(); // Recreate the board to clear any leftover bugs
            score = 0;
            timeLeft = GAME_TIME;
            scoreDisplay.textContent = score;
            timerDisplay.textContent = timeLeft;
            availableQuestions = [...ICEBREAKER_QUESTIONS]; // Reset questions
            startButton.style.display = 'none';

            // Start timers
            gameTimerId = setInterval(updateTimer, 1000);
            bugIntervalId = setInterval(popBug, 800); // A bug appears every 800ms
        }

        /**
         * Ends the game and shows the final score.
         */
        function endGame() {
            isGameActive = false;
            clearInterval(gameTimerId);
            clearInterval(bugIntervalId);
            
            // Clear any final bug that might be showing
            const existingBug = document.querySelector('.bug');
            if (existingBug) {
                existingBug.remove();
            }

            // Use a modal for the final message for consistency
            showQuestion(`Game Over! Your final score is ${score}.`, "Play Again?");
            startButton.style.display = 'block';
        }
        
        /**
         * Updates the game timer every second.
         */
        function updateTimer() {
            timeLeft--;
            timerDisplay.textContent = timeLeft;
            if (timeLeft <= 0) {
                endGame();
            }
        }

        /**
         * Makes a bug appear in a random hole.
         */
        function popBug() {
            if (!isGameActive) return;
            
            const holes = document.querySelectorAll('.hole');
            // Clear any existing bugs first to ensure only one appears at a time
            const existingBug = document.querySelector('.bug');
            if (existingBug) {
                existingBug.remove();
            }

            // Find all empty holes
            const emptyHoles = Array.from(holes).filter(hole => hole.childElementCount === 0);
            if (emptyHoles.length === 0) return; // No empty holes to place a bug

            // Select a random empty hole
            const randomHole = emptyHoles[Math.floor(Math.random() * emptyHoles.length)];
            
            // Create and add the bug
            const bug = document.createElement('div');
            bug.classList.add('bug', 'text-5xl', 'transform', 'scale-100');
            bug.textContent = 'ðŸž'; // Bug emoji
            randomHole.appendChild(bug);

            // Make the bug disappear after a short time if not clicked
            setTimeout(() => {
                if (bug.parentElement) {
                    bug.remove();
                }
            }, 1500); // Bug stays for 1.5 seconds
        }

        /**
         * Handles the logic when a bug is clicked.
         * @param {MouseEvent} e - The click event object.
         */
        function squishBug(e) {
            if (!isGameActive || !e.target.classList.contains('bug')) return;

            // Update score
            score++;
            scoreDisplay.textContent = score;
            
            // Add a "squished" effect
            e.target.style.transform = 'scale(0.8)';
            e.target.style.opacity = '0.5';
            
            // Remove the bug after the effect
            setTimeout(() => {
                e.target.remove();
            }, 100);


            // Show a question
            let question = "You've answered all the questions! Keep squishing!";
            if (availableQuestions.length > 0) {
                const questionIndex = Math.floor(Math.random() * availableQuestions.length);
                question = availableQuestions.splice(questionIndex, 1)[0];
            }
            showQuestion(question);
        }

        /**
         * Displays the modal with a given question.
         * @param {string} text - The question or message to display.
         * @param {string} buttonText - The text for the close button.
         */
        function showQuestion(text, buttonText = "Got It!") {
            questionText.textContent = text;
            closeModalButton.textContent = buttonText;
            questionModal.classList.remove('opacity-0', 'pointer-events-none');
            modalContent.classList.remove('scale-95');
            modalContent.classList.add('scale-100');
        }

        /**
         * Hides the question modal.
         */
        function hideQuestion() {
            questionModal.classList.add('opacity-0', 'pointer-events-none');
            modalContent.classList.add('scale-95');
            modalContent.classList.remove('scale-100');
        }

        // --- Event Listeners ---
        startButton.addEventListener('click', startGame);
        gameBoard.addEventListener('click', squishBug);
        closeModalButton.addEventListener('click', hideQuestion);

        // --- Initial Setup ---
        createGameBoard();
    </script>
</body>
</html>
